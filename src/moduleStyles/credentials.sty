%! This file provides the Matrikelnumbers for some people.
%! If you can read this, you probably are a person, that I work with. If not, I have fucked royally.
%!
%! I trust you with this information since AFAIK you can't do much with it, but I don't want it to just land on the internet.

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{credentials}[2021/06/29]
\RequirePackage{readarray}

\newcommand{\template@credentials@emily@firstName}{Emily}
\newcommand{\template@credentials@emily@lastName}{Seebeck}
\newcommand{\template@credentials@emily@id}{411364}

\newcommand{\template@credentials@mattis@firstName}{Mattis}
\newcommand{\template@credentials@mattis@lastName}{Seebeck}
\newcommand{\template@credentials@mattis@id}{411364}



\newcommand{\template@credentials@matteo@firstName}{Matteo}
\newcommand{\template@credentials@matteo@lastName}{Gätzner}
\newcommand{\template@credentials@matteo@id}{410052}


%! This is a command to set the author and id's accordingly.
%!  #1 = pgffor list {a, b, c, …} where a, b, c, … are names registered in the database
%!      Note: Capitalization matters
\newcommand{\template@credentials@make}[1]{
    \template@credentials@makeauthor{#1}
    \template@credentials@makeHeader{#1}
}

%! This command makes - as the name suggests - the author.
%! This is done by supplying a pgffor list {a,b,c,…}, where a, b, c,… are names registered in the database
\newcommand{\template@credentials@makeauthor}[1]{
    \foreach[count=\i] \person in #1 {
        \ifnum\i=1
        \xdef\template@credentials@author{\template@credentials@makePerson{\person}}
        \else
        \xdef\template@credentials@author{\template@credentials@author\\[3pt]\template@credentials@makePerson{\person}}
        \fi
    }
    \foreach[count=\i] \person in #1 {
        \ifnum\i=1
        \xdef\template@credentials@ids{\csname template@credentials@\person @id\endcsname}
        \else
        \xdef\template@credentials@ids{\template@credentials@ids\\[3pt]\csname template@credentials@\person @id\endcsname}
        \fi
    }
    \author{\template@credentials@author \and \template@credentials@ids}
}

%! This command makes the firstName / lastName combination of a person.
\newcommand{\template@credentials@makePerson}[1]{
    \csname template@credentials@\person @firstName\endcsname{} \csname template@credentials@\person @lastName\endcsname
}

%! This command makes - as the name suggests - the header.
%! This is done by supplying a pgffor list {a,b,c,…}, where a, b, c,… are names registered in the database
\newcommand{\template@credentials@makeHeader}[1]{
    \foreach[count=\i] \person in #1 {
        \ifnum\i=1
        \xdef\template@credentials@header{\template@credentials@makePersonHeader{\person}}
        \else
        \xdef\template@credentials@header{\template@credentials@header, \template@credentials@makePersonHeader{\person}}
        \fi
    }
    \typeout{AAAAAAA}
    \typeout{\template@credentials@header}
    \fancyhead[L]{\template@credentials@header}
}

%! This command makes the firstName / id combination of a person.
\newcommand{\template@credentials@makePersonHeader}[1]{
    \csname template@credentials@\person @firstName\endcsname{} -- \csname template@credentials@\person @id\endcsname
}

% Copy paste
%\newcommand{\template@credentials@@firstName}{}
%\newcommand{\template@credentials@@lastName}{}
%\newcommand{\template@credentials@@id}{}



